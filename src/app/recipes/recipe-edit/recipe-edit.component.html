<div fxLayout="row">
  <div fxLayout="column" fxFlex="80" fxFlex.lt-md="100">
    <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">
      <div fxLayout="row">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!recipeForm.valid"
        >
          Save
        </button>
        <button
          mat-raised-button
          color="warn"
          type="button"
          (click)="onCancel()"
        >
          Cancel
        </button>
      </div>
      <div fxLayout="row">
        <mat-form-field fxFlexFill>
          <mat-label for="name">Name</mat-label>
          <input
            matInput
            type="text"
            id="name"
            name="name"
            formControlName="name"
          />
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <mat-form-field fxFlexFill>
          <mat-label for="imagePath">Image URL</mat-label>
          <input
            matInput
            type="text"
            id="imagePath"
            name="imagePath"
            formControlName="imagePath"
            #imagePath
          />
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <div fxLayout="column" fxFlexFill>
          <img [src]="imagePath.value" alt="" />
        </div>
      </div>
      <div fxLayout="row">
        <mat-form-field fxFlexFill>
          <mat-label for="description">Description</mat-label>
          <textarea
            matInput
            type="text"
            id="description"
            rows="4"
            formControlName="description"
          ></textarea>
        </mat-form-field>
      </div>
      <div fxLayout="row">
        <div fxLayout="column" fxFlexFill formArrayName="ingredients">
          <div
            fxLayout="row"
            fxLayoutAling="center center"
            *ngFor="let ingredients of controls; let i = index"
            [formGroupName]="i"
          >
            <mat-form-field fxFlex="70">
              <input
                matInput
                type="text"
                placeholder="Ingredient name"
                formControlName="name"
              />
            </mat-form-field>
            <mat-form-field fxFlex="20">
              <input
                matInput
                type="text"
                placeholder="Ingredient amount"
                formControlName="amount"
              />
            </mat-form-field>
            <button
              mat-icon-button
              color="warn"
              type="button"
              class="icon-button"
              (click)="onDeleteIngredient(i)"
            >
              <mat-icon>close</mat-icon>
            </button>
          </div>
          <mat-divider></mat-divider>
          <div fxLayout="row">
            <button
              mat-raised-button
              color="accent"
              type="button"
              (click)="onAddIngredient()"
            >
              Add Ingredient
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
